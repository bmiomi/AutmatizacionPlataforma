## driver a seleccionar para la realisacion de pruebas

[Driver]

   Edge=.\Automatizacion\driver\msedgedriver.exe
 Chrome=.\Automatizacion\driver\chromedriver.exe
Firefox=.\Automatizacion\driver\geckodriver.exe

# url a usar para la pruebas

[URLS]

Al=https://prd1.xsalesmobile.net/Almabi/xsm/Login
Ap=https://prd1.xsalesmobile.net/Apronam/xsm/Login
Als=https://prd1.xsalesmobile.net/alsodi/xsm/Login
CP=https://prd1.xsalesmobile.net/Cenacop/xsm/Login
Di=https://prd1.xsalesmobile.net/Dimmia/xsm/Login
Dico=https://prd1.xsalesmobile.net/Discarnicos/xsm/Login
Dis=https://prd1.xsalesmobile.net/disanahisa/xsm/Login
Diza=https://prd1.xsalesmobile.net/disproalza/xsm/Login
Dile=https://prd1.xsalesmobile.net/disprovalles/xsm/Login
dapro=https://prd1.xsalesmobile.net/dapromach/xsm/Login
Eco=https://prd1.xsalesmobile.net/Ecoal/xsm/Login
Gram=https://prd1.xsalesmobile.net/Grampir/xsm/Login
Gave=https://prd1.xsalesmobile.net/Garvelproduct/xsm/Login
H_M=https://prd1.xsalesmobile.net/H_M/xsm/Login
jud=https://prd1.xsalesmobile.net/Judispro/xsm/Login
MD=https://prd1.xsalesmobile.net/Madeli/xsm/Login
Or=https://prd1.xsalesmobile.net/PROORIENTE/xsm/Login
PF=https://prd1.xsalesmobile.net/Paul_florencia/xsm/Login
PC=https://prd1.xsalesmobile.net/Patricio_cevallos/xsm/Login
Ps=https://prd1.xsalesmobile.net/posso_cueva/xsm/Login
PRN=https://prd1.xsalesmobile.net/PRONAIM/xsm/Login
PRnor=https://prd1.xsalesmobile.net/Pronacnor/xsm/Login
SkR=https://prd1.xsalesmobile.net/SKANDINAR/xsm/Login

# navegador por defecto a usar  en caso de cambios las opciones a selecionar 
# son Chrome Firefox Edge

[Navegador]
  navegador=Chrome


[Consultas]

  DescuentosMadrugada=declare @inicio VARCHAR(255), @fin VARCHAR(255) set @inicio = '2020-11-24 00:00:00.000' set @fin = '2020-11-24 23:59:00.000' Select Top 1000 Case When company.comName = 'Garvel Product' Then '517' When company.comName = 'Pronaca' Then '202' When company.comName = 'Posso&Cueva' Then '253' When company.comName = 'Cenacop' Then '325' When company.comName = 'Granpir' Then '234' When company.comName = 'Dapromach' Then '331' When company.comName = 'Pronaim' Then '115' When company.comName = 'Dimmia' Then '111' When company.comName = 'Almabi' Then '360' When company.comName = 'Skandinar' Then '121' When company.comName = 'Disproalza' Then '247' When company.comName = 'Madeli' Then '128' When company.comName = 'Ecoal' Then '373' When company.comName = 'Disprovalles' Then '210' When company.comName = 'Pronacnor' Then '303' When company.comName = 'Apronam' Then '162' When company.comName = 'Paul_Florencia' Then '168' When company.comName = 'Discarnicos' Then '261' When company.comName = 'H&M' Then '324' When company.comName = 'Disanahisa' Then '323' When company.comName = 'Patricio_Cevallos' Then '254' When company.comName = 'Alsodi' Then '314' When company.comName = 'Judispro' Then '239' When company.comName = 'Oriental' Then '229' Else '#' end Emp_Codigo, Descu.didCode as Id_Negociacion, Descu.Tipo, Descu.Cliente as Codigo_Cliente, Day(Descu.Fecha) as Dia_Negociacion, Month(Descu.Fecha) as Mes_Negociacion, Year(Descu.Fecha) as Anio_Negociacion, Ruta as Cod_Vendedor, Porcentaje as Descuento_Negociado, 'Si' as Descuento_Realizado, Descu.Status as Descuento_Status, Case When Descu.Fecha < Ped2.Fecha Then 'Si' Else 'No' End as Desc_Prev_Pedido, Descu.Procesado as Descuento_Procesado_XSales, Case When len(Ped2.Fecha) > 4 Then 'Si' Else 'No' End as Pedido_Realizado  From (  Select D.didCode,  D.cusCode CLIENTE,  Convert(Varchar, D.didSystemDate, 25) FECHA,  D.rotCode RUTA,  Replace(I.dlpMinDiscount1, ',', '.') PORCENTAJE,  Case  When (  Select A.ApvResponseDetail  From Approval A  Where A.apvCode = D.apvCode  ) Like '%RECHAZ%' Then 'Rechazado'  When (  Select A.ApvResponseDetail  From Approval A  Where A.apvCode = D.apvCode  ) Like '%Respuesta"%:"SI%' ESCAPE ':' Then 'Aprobado'  When (  Select A.ApvResponseDetail  From Approval A  Where A.apvCode = D.apvCode  ) Like '%Respuesta"%:"No%' ESCAPE ':' Then 'Rechazado'  When D.ApvCode IS NULL Then 'Aprobado'  When (  Select A.ApvResponseDetail  From Approval A  Where A.apvCode = D.apvCode  ) Like '%Respuesta"%:null%' ESCAPE ':' Then 'Pendiente'  When (  Select A.ApvResponseDetail  From Approval A  Where A.apvCode = D.apvCode  ) Like '%Respuesta"%:"EXCEPCION%' ESCAPE ':' Then 'Pendiente'  When (  Select A.ApvResponseDetail  From Approval A  Where A.apvCode = D.apvCode  ) IS NULL Then 'Pendiente'  END As STATUS,  Case  When D.didProcess = '1' Then 'Si'  Else 'No'  End As PROCESADO,  case  when apvcode is NULL then 'RANGO'  else 'FUERA RANGO'  end as TIPO  From DiscountDetailUp D  Inner Join DiscountDetailProductUp I On D.didCode = I.didCode  Where D.didCanceled = '0'  And D.didProcess = '1'  And D.DidSystemDate Between @inicio And @fin  And D.didCode Not In (  Select T.didCode  From demandTeamProductDiscount T  Inner Join Demand P On T.dmdCode = P.dmdCode  Where P.dmdCancelOrder = '1'  And P.dmdProcess IS NULL  )  ) Descu  Left Join Company On 1 = 1  Left Join (  Select D.rotCode,  D.cusCode,  Max(D.dmdDate) as Fecha  From Demand D  Left Join DemandProduct DP On D.dmdCode = DP.dmdCode  Where D.dmdDate Between @inicio And @fin  And docCode = 'ped'  and D.rotCode in (  Select rotCode  From route  Where chaCode = 'V01'  )  And D.dmdCancelOrder = 0  And DP.proCode in (  Select proCode  From product  Where cl4Code = 'IDGDD001'  )  Group By D.rotCode,  D.cusCode  ) Ped2 On Descu.cliente = Ped2.cuscode  and Descu.Ruta = Ped2.rotcode  order by Descu.Ruta
  DescuentoNoches=SELECT TOP 100000*  FROM (SELECT TOP 10000 D.DIDCODE,D.CUSCODE CLIENTE,CONVERT(VARCHAR,D.DIDSYSTEMDATE,25) FECHA,	D.ROTCODE RUTA, REPLACE(I.dlpMinDiscount1,',','.') PORCENTAJE,CASEWHEN(SELECT A.APVRESPONSEDETAIL FROM APPROVAL A WHERE A.apvcode=D.apvcode) LIKE'%RECHAZ%' THEN'Rechazado' WHEN(SELECT A.APVRESPONSEDETAIL FROM APPROVAL A WHERE A.apvcode=D.apvcode) LIKE'%Respuesta"%:"SI%' ESCAPE':' THEN'Aprobado'WHEN(SELECT A.APVRESPONSEDETAIL FROM APPROVAL A WHERE A.apvcode=D.apvcode) LIKE'%Respuesta"%:"NO%' ESCAPE':' THEN'Rechazado'WHEND.APVCODE IS NULL THEN'Aprobado'WHEN(SELECT A.APVRESPONSEDETAIL FROM APPROVAL A WHERE A.apvcode=D.apvcode) LIKE'%Respuesta"%:null%' ESCAPE':' THEN'Pendiente'WHEN (SELECT A.APVRESPONSEDETAIL FROM APPROVAL A WHERE A.apvcode=D.apvcode) LIKE'%Respuesta"%:"EXCEPCION%' ESCAPE':' THEN'Pendiente'WHEN(SELECT A.APVRESPONSEDETAIL FROM APPROVAL A WHERE A.apvcode=D.apvcode) IS NULL THEN'Pendiente'END AS STATUS, CASE WHEN D.DIDPROCESS='1' THEN'Si' ELSE'No' END AS PROCESADO,D.APVCODEFROM DISCOUNTDETAILUP DINNER JOIN DISCOUNTDETAILPRODUCTUP ION D.DIDCODE=I.DIDCODEWHERE D.DIDCANCELED='0' AND D.DIDSYSTEMDATE BETWEEN '2020-11-21 00:00:00.000' AND '2020-11-21  23:59:00.000' AND D.DIDCODE NOT IN (SELECT T.DIDCODE FROM 	demandteamproductdiscount   T INNER JOIN DEMAND PON T.DMDCODE=P.DMDCODEWHERE P.DMDCANCELORDER='1' AND P.DMDPROCESS IS NULL))DESCU WHERE DESCU.STATUS NOT LIKE'%RECHAZ%' AND DESCU.PROCESADO='NO'